!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).VueMotion=n()}(this,function(){"use strict";var t=1/60,n=.01;function i(t,n,i,e,s){void 0===s&&(s=1),(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(i))&&console.error("onFrameDistance("+t+", "+n+", "+i+")"),console.log({stiffness:e.stiffness,damping:e.damping});var o=e.stiffness,a=e.damping,r=-Math.abs(n-t),l=(-o*r+-a*i)/1e3;r+=i+=l*s;var f=n>t?n+r:n-r;return{value:f=Math.round(1e3*f)/1e3,velocity:i,acceleration:l}}function e(e,s,o){var a,r=e;return function(e){if(r!==e){a&&window.cancelAnimationFrame(a);var l,f=0,u=0,p=0;l=performance.now(),function c(){var d=performance.now(),y=(d-l)/1e3;l=d;var h=Math.floor((u+y)/t);p+=h,u+=y-h*t;var m=i(r,e,f,o,h),g=m.value,v=m.velocity,S=m.acceleration;r=g,f=v,p>0&&Math.abs(S)<n&&Math.abs(f)<n?s(e):(s(r),a=window.requestAnimationFrame(function(){c()}))}()}}}var s={template:'\n    <div>\n      <slot v-bind:styles="interpolatingStyles"></slot>\n    </div>\n  ',data:function(){return{interpolatingStyles:{},options:{stiffness:null,damping:null}}},props:{styles:{required:!0},stiffness:{type:Number,default:100,validator:function(t){return t>0}},damping:{type:Number,default:370,validator:function(t){return t>0}}},watch:{stiffness:function(t){this.options.stiffness=t},damping:function(t){this.options.damping=t}},created:function(){var t=this;this.initialOptions(),this.interpolatingStyles=Object.assign({},this.styles),Object.keys(this.styles).map(function(n){var i=e(t.styles[n],function(i){return t.interpolatingStyles[n]=i},t.options);t.$watch("styles."+n,function(t){return i(t)})})},methods:{initialOptions:function(){this.options.stiffness=this.stiffness,this.options.damping=this.damping}}},o={template:'\n    <div>\n      <slot v-bind:styles="interpolatingStyles"></slot>\n    </div>\n  ',data:function(){return{interpolatingStyles:[],options:{stiffness:null,damping:null}}},props:{styles:{required:!0},stiffness:{type:Number,default:20,validator:function(t){return t>0}},damping:{type:Number,default:370,validator:function(t){return t>0}},enable:{type:Boolean,default:!0}},created:function(){this.initial(),this.initialOptions(),this.watchLeadingStyle(),this.watchInterpolatingStyles()},watch:{stiffness:function(t){this.options.stiffness=t},damping:function(t){this.options.damping=t}},methods:{initial:function(){this.interpolatingStyles=this.styles.map(function(t){return Object.assign({},t)})},initialOptions:function(){this.options.stiffness=this.stiffness,this.options.damping=this.damping},watchLeadingStyle:function(){var t=this;Object.keys(this.styles[0]).map(function(n){var i=e(t.styles[0][n],function(i){return t.interpolatingStyles[0][n]=i},t.options);t.$watch(function(){return t.styles[0][n]},function(t){return i(t)})})},watchInterpolatingStyles:function(){var t=this;this.interpolatingStyles.map(function(n,s){s>=t.interpolatingStyles.length-1||Object.keys(n).map(function(n){var o=s+1,a=t.interpolatingStyles[o][n],r=0;t.$watch(function(){return t.interpolatingStyles[s][n]},function(s){if(s===t.styles[0][n]){e(t.interpolatingStyles[o][n],function(i){return t.interpolatingStyles[o][n]=i},t.options)(s)}else{var l=i(a,s,r,t.options);a=l.value,r=l.velocity,t.interpolatingStyles[o][n]=a}})})})}}};return{install:function(t,n){t.component("Motion",s),t.component("StaggeredMotion",o)},Motion:s,StaggeredMotion:o}});
