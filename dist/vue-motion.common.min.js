"use strict";function intanceofOptions(t){return"stiffness"in t&&"damping"in t&&"mass"in t}var noWobble={stiffness:5,damping:6,mass:1},gentle={stiffness:5,damping:7,mass:1},wobbly={stiffness:5,damping:4,mass:1},stiff={stiffness:5,damping:5,mass:1},presets={noWobble:noWobble,gentle:gentle,wobbly:wobbly,stiff:stiff},msPerFrame=1e3/60,precision=.1;function oneFrameDistance(t,n,e,i,o){void 0===o&&(o=1),(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(e))&&console.error("onFrameDistance("+t+", "+n+", "+e+")");var s=i.stiffness,r=i.damping,a=i.mass,l=-(n-t);return{value:n+(l+=e+=(-s*l+-(2*r*a*Math.sqrt(s*a))*e)/a*(o*msPerFrame/1e3)),velocity:e}}function createAnimate(t,n,e){var i;"string"==typeof e?e in presets?e=presets[e]:(console.error("unrecognized options"+e),e=presets.noWobble):"object"==typeof e&&intanceofOptions(e)||(console.error("unrecognized options"+e),e=presets.noWobble);var o,s=t,r=t,a=0,l=0;function c(u){if(Math.abs(r-s)<=precision)return n(r),t=r,void(a=0);var f;f=o?u-o:msPerFrame,o=u;var p=Math.floor((l+f)/msPerFrame);l+=f-p*msPerFrame;var m=oneFrameDistance(s,r,a,e,p),g=m.value,y=m.velocity;a=y,n(s=g),i=window.requestAnimationFrame(function(t){i=null,c(t)})}return function(t){r=t,i||(o=null,i=window.requestAnimationFrame(c))}}var Motion={template:'\n    <div>\n      <slot v-bind:styles="interpolatingStyles"></slot>\n    </div>\n  ',data:function(){return{interpolatingStyles:{}}},props:{styles:{required:!0},options:{default:function(){return noWobble}}},created:function(){var t=this;this.interpolatingStyles=Object.assign({},this.styles),Object.keys(this.styles).map(function(n){var e=createAnimate(t.styles[n],function(e){return t.interpolatingStyles[n]=e},t.options);t.$watch("styles."+n,function(t){return e(t)})})}},StaggeredMotion={template:'\n    <div>\n      <slot v-bind:styles="interpolatingStyles"></slot>\n    </div>\n  ',data:function(){return{interpolatingStyles:[]}},props:{styles:{required:!0},options:{default:function(){return noWobble}}},created:function(){this.initial(),this.watchLeadingStyle(),this.watchInterpolatingStyles()},watch:{},methods:{initial:function(){this.interpolatingStyles=this.styles.map(function(t){return Object.assign({},t)})},watchLeadingStyle:function(){var t=this;Object.keys(this.styles[0]).map(function(n){var e=createAnimate(t.styles[0][n],function(e){return t.interpolatingStyles[0][n]=e},t.options);t.$watch(function(){return t.styles[0][n]},function(t){return e(t)})})},watchInterpolatingStyles:function(){var t=this;this.interpolatingStyles.map(function(n,e){e>=t.interpolatingStyles.length-1||Object.keys(n).map(function(n){var i=e+1,o=t.interpolatingStyles[i][n],s=0;t.$watch(function(){return t.interpolatingStyles[e][n]},function(e){if(e===t.styles[0][n]){createAnimate(t.interpolatingStyles[i][n],function(e){return t.interpolatingStyles[i][n]=e},t.options)(e)}else{var r=oneFrameDistance(o,e,s,t.options);o=r.value,s=r.velocity,t.interpolatingStyles[i][n]=o}})})})}}},VueMotion={install:function(t,n){t.component("Motion",Motion),t.component("StaggeredMotion",StaggeredMotion)},Motion:Motion,StaggeredMotion:StaggeredMotion};module.exports=VueMotion;
